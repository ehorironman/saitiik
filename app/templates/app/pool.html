{% extends "app/layout.html" %}
{% block content %}
{% load static %}
{% if form != None %}

<div class="container-custom">
    <h2>Отправьте, пожалуйста, заполненную анкету</h2>

    <div>
        <form method="post">
            {% csrf_token %}
            <label for="{{ form.name.id_for_label }}">{{ form.name.label }}:</label>
            {{ form.name }}<br>
            <label for="{{ form.city.id_for_label }}">{{ form.city.label }}:</label>
            {{ form.city }}<br>
            <label for="{{ form.gender.id_for_label }}">{{ form.gender.label }}:</label>
            {{ form.gender }}<br>
            <label for="{{ form.coffee.id_for_label }}">{{ form.coffee.label }}:</label>
            {{ form.coffee }}<br>
            <label for="{{ form.notice.id_for_label }}">{{ form.notice.label }}:</label>
            {{ form.notice }}<br>
            <label for="{{ form.email.id_for_label }}">{{ form.email.label }}:</label>
            {{ form.email }}<br>
            <label for="{{ form.rating.id_for_label }}">{{ form.rating.label }}:</label>
            {{ form.rating }}<br>
            <label for="{{ form.suggestions.id_for_label }}">{{ form.suggestions.label }}:</label>
            {{ form.suggestions }}<br>
            <input type="submit" value="Отправить" id="submitButton">
        </form>
    </div>
    {% else %}
    <br>
    <br>
    <br>
    <div class="container-custom">
        <h2>Благодарим за предоставленную информацию!</h2>
        <h3>Вы сообщили о себе следующее:</h3>
        <ul>
            <li><span>Имя: </span> {{ data.name }}</li>
            <li><span>Город: </span> {{ data.city }}</li>
            <li><span>Пол:</span> {{ data.gender }}</li>
            <li><span>С какой проблемой Вы столкнулись: </span> {{ data.coffee }}</li>
            <li>
                <span>Получать новости сайта на e-mail:</span>
                {{ data.notice }}
            </li>
            <li><span>Baш e-mail:</span> {{ data.email }}</li>
            <li><span>Baша оценка:</span> {{ data.rating }}</li>
            <li><span>Ваши пожелания: </span> {{ data.suggestions }}</li>
        </ul>
    </div>
    {% endif %}
</div>

<script>
    document.addEventListener('DOMContentLoaded', function () {
        const button = document.querySelector('#submitButton');
        const inputs = document.querySelectorAll('input, textarea, select');

        // Изменение цвета текста кнопки при наведении
        button.addEventListener('mouseover', function () {
            button.style.color = '#D2691E';
        });

        button.addEventListener('mouseout', function () {
            button.style.color = '';
        });

        // Изменение цвета фона полей ввода при фокусе
        inputs.forEach(input => {
            input.addEventListener('focus', function () {
                input.style.backgroundColor = '#F2D4AE';
            });

            input.addEventListener('blur', function () {
                input.style.backgroundColor = '';
            });
        });
    });
</script>

{% endblock %}
